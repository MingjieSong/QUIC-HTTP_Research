(self.webpackChunk=self.webpackChunk||[]).push([[983],{1865:function(e,t,n){"use strict";n(9630);var o=n(1450);!function(){const e=document.querySelector('[data-widget="flat2016-nav"]');if(e){e.querySelectorAll("[data-dropdown]").forEach((e=>{let t=document.querySelector(e.dataset.target);e.addEventListener("mouseenter",(()=>{const n=e.getBoundingClientRect().bottom+window.scrollY;t.style.top=n+"px"}))}))}}(),function(){const e=document.querySelector(".cookies-eu");e&&"none"!==e.style.display&&o.Z.on("banner:show banner:hide",(()=>{let t=document.querySelector(".sticky-bar"),n=0;t&&t.classList.contains("sticky-bar--opened")&&(n=t.offsetHeight+20),e.style.bottom=`${n}px`}))}()},7098:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var o=n(5382),r=function(){const e=document.querySelector('[data-widget="flat2016-nav"]');return{run:function(){if(e){e.querySelectorAll("[data-dropdown]").forEach((e=>{let t=document.querySelector(e.dataset.target);t&&(e.addEventListener("mouseenter",(()=>{t.classList.add("opened")})),e.addEventListener("mouseleave",(()=>{t.classList.remove("opened")})),t.addEventListener("mouseenter",(()=>{t.classList.add("opened")})),t.addEventListener("mouseleave",(()=>{t.classList.remove("opened")})))}))}}}}(),i=function(){const e=document.getElementById("navbar-toggle"),t=document.getElementById("navigation-mobile"),n=document.querySelector(".backdrop");let o=!1;function r(){t.classList.add("flat-navmenu-default--active"),document.body.style.overflow="hidden",n.classList.add("backdrop--visible"),e.classList.add("navbar-toggle--open"),o=!0}function i(){t.classList.remove("flat-navmenu-default--active"),document.body.style.overflow="",n.classList.remove("backdrop--visible"),e.classList.remove("navbar-toggle--open"),o=!1}function s(){o?i():r()}return{run:function(){if(!e||!n)return!1;e.addEventListener("click",s),n.addEventListener("click",i),document.addEventListener("nav:hide",i),document.addEventListener("nav:show",r)}}}(),s=function(){const e=document.querySelector('[data-widget="footer"]');return{run:function(){if(e){const t=e.querySelectorAll("[data-footer-links]"),n=e.querySelectorAll("[data-header]");n.forEach((function(t){let n=e.querySelector(t.dataset.target);t.addEventListener("click",(()=>{n.classList.contains("opened")?n.classList.remove("opened"):n.classList.add("opened")}))})),function(e){e.forEach((function(e){let t=e.querySelector("[data-header]"),n=e.querySelectorAll("[data-content]");t||n.forEach((e=>{e.style.display="block"}))}))}(t)}}}}(),c=n(3117),a={run:function(){let e=document.querySelector("[data-show-all-btn]");e&&((0,c.Z)("TopXCoupons:init"),e.addEventListener("click",(function(e){e.preventDefault(),document.querySelector(".list-coupons-as-items:nth-child(2)").classList.add("list-coupons-as-items--show"),this.classList.add("hidden")})))}},l=function(){const e=document.querySelectorAll(".card-text .card-content");return{run:function(){e.forEach((e=>{e&&(function(e){e.querySelectorAll("img").forEach((e=>{e.classList.add("img-responsive")}))}(e),function(e){e.querySelectorAll("p").forEach((e=>{let t=window.getComputedStyle(e).getPropertyValue("text-align"),n=e.querySelectorAll("img");"center"===t&&n.forEach((e=>{e.style.margin="0 auto"}))}))}(e),function(e){e.querySelectorAll("iframe").forEach((e=>{if(e.getAttribute("src").includes("youtube")){e.classList.add("embed-responsive-item");let t=document.createElement("div");t.className="embed-responsive embed-responsive-16by9",t.innerHTML=e.outerHTML,e.parentNode.replaceChild(t,e)}}))}(e))}))}}}(),u=n(1450),d=function(){function e(){document.querySelectorAll('[data-module="show-more"]').forEach((function(e){e.addEventListener("click",t)}))}function t(e){e.preventDefault();let t=e.target,n=t.previousElementSibling,o=n.className.split(" ")[0];n.classList.contains(`${o}--small`)?(n.classList.remove(`${o}--small`),t.classList.contains("coupon__toggle")?t.innerHTML='<i class="roberto-chevron-up"></i> <span>'+t.getAttribute("data-less-text")+"</span>":t.innerHTML=t.getAttribute("data-less-text")):(n.classList.add(`${o}--small`),t.classList.contains("coupon__toggle")?t.innerHTML='<i class="roberto-chevron-down"></i> <span>'+t.getAttribute("data-more-text")+"</span>":t.innerHTML=t.getAttribute("data-more-text"))}return{run:function(){(0,c.Z)("ShowMore:init"),e(),u.Z.on("showmore",e)}}}(),f=function(){const e=document.querySelector('[data-widget="welcome-text"]');return{run:function(){if(e){const t=e.querySelector("[data-text]");e.querySelectorAll("[data-toggle]").forEach((e=>{let n=t.classList+"--full",o=e.dataset.moreText,r=e.dataset.lessText;e.addEventListener("click",(i=>{i.preventDefault(),t.classList.contains(n)?(t.classList.remove(n),e.innerText=o):(t.classList.add(n),e.innerText=r)}))}))}}}}(),p=function(){const e=document.querySelector(".dropdown-list-coupon-type");return{run:function(){if((0,c.Z)("ToggleDropdown:init"),e){const t=document.querySelector(".dropdown-menu");e.addEventListener("click",(function(){t.classList.toggle("dropdown-menu--opened")})),document.body.addEventListener("click",(function(e){e.target.closest(".dropdown")||t.classList.remove("dropdown-menu--opened")}))}}}}(),m=n(9669),g=function(){function e(){m.get(rootDir+"/modals/newsletter_subscribe").then((e=>{var t;t=e.data,document.querySelector("#my-modal .modal__content").innerHTML=t,u.Z.trigger("modal:show"),u.Z.trigger("newsletter-modal:show")}))}return{run:function(){let t=document.querySelector(".attach-newsletter-popup");t&&t.addEventListener("click",e)}}}(),v=n(8767),y=function(){let e=document.querySelector('[data-widget="toggleFilter"]'),t="[data-coupons-list] [data-coupon-item]",n=document.querySelectorAll(t);return{run:function(){e&&v.Z.mobile()&&function(){function o(e,n){let o="";return"all"!==e&&(o=`[data-coupon-type='${e}']`),"undefined"!=typeof n&&(o+=`[data-visible=${n}]`),o?document.querySelectorAll(t+o):document.querySelectorAll(t)}function r(e){n.forEach((function(t){"all"===e?t.style.display="grid":(t.style.display="none",t.getAttribute("data-coupon-type")===e&&(t.style.display="grid"))}))}document.querySelectorAll(t).forEach((e=>e.setAttribute("data-visible",!0))),function(){let t=e.querySelector("input[type=checkbox]");t.addEventListener("click",(()=>{t.checked?r("coupon"):r("all")}))}(),0!==o("coupon",!0).length&&0!==o("offer",!0).length?e.style.display="flex":e.style.display="none"}()}}}(),h={run:function(){let e=document.querySelector(".scroll-to-top");e&&(window.addEventListener("scroll",(function(){window.pageYOffset>window.innerHeight&&!e.classList.contains("scroll-to-top--active")?e.classList.add("scroll-to-top--active"):window.pageYOffset<window.innerHeight&&e.classList.remove("scroll-to-top--active")})),e.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})})))}},L=n(3215),w=n(6710);class b extends o.Z{start(){super.start()}Common(){super.Common(),r.run(),i.run(),a.run(),s.run(),d.run(),g.run(),h.run(),L.Z.run()}Coupons(){super.Coupons()}Widgets(){w.fE.run(),w.CW.run(),w.g.run(),w.lr.run(),w.KT.run(),w.Yp.run(),w.FE.run(),w.mY.run()}cardText(){l.run()}WelcomeText(){f.run()}ToggleDropdown(){p.run()}ToggleFilter(){y.run()}}var S=new b},9630:function(e,t,n){"use strict";var o=n(7098);n(9669).defaults.headers.common["X-Requested-With"]="XMLHttpRequest",n(4659),document.addEventListener("DOMContentLoaded",(function(){o.Z.start(),o.Z.log("%cFlat_2016","text-shadow: 3px 3px 0 #b257d4, -3px -3px 0 #206392; font-size: 1.5rem")}))},7124:function(e,t,n){"use strict";n.r(t);var o=n(7098);o.Z.on("campaigns_show:init",(function(){o.Z.log("Campaign page init"),o.Z.CouponFilters(),o.Z.Widgets(),o.Z.HeroCountdown(),o.Z.WelcomeText(),o.Z.Vote()}))},325:function(e,t,n){"use strict";n.r(t);var o=n(7098);o.Z.on("categories_show:init",(function(){o.Z.log("Categories Show page init"),o.Z.WelcomeText(),o.Z.Categories()}))},9792:function(e,t,n){"use strict";n.r(t);var o=n(7098);o.Z.on("coupons_index:init",(function(){o.Z.log("Coupons page init"),o.Z.Coupons(),o.Z.ToggleDropdown()}))},2020:function(e,t,n){"use strict";n.r(t);var o=n(7098);o.Z.on("home_index:init",(function(){o.Z.log("Home page init"),o.Z.Widgets()}))},4659:function(e,t,n){n(2020),n(9792),n(567),n(325),n(7124)},567:function(e,t,n){"use strict";n.r(t);var o=n(7098);o.Z.on("shops_show:init",(function(){o.Z.log("Shop page init"),o.Z.WelcomeText(),o.Z.cardText(),o.Z.CouponFilters(),o.Z.Vote(),o.Z.ToggleFilter(),o.Z.Coupons()})),o.Z.on("shops_index:init",(function(){o.Z.log("Shops index page init"),o.Z.ShopsIndex()}))}},function(e){e.O(0,[637,940,382],(function(){return t=1865,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=index-950c29f5374713f109da.js.map